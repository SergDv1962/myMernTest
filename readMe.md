# start 17.06.24
This file is for test my knowledge  the express , mongoose, react, nodejs
# Step 1
//Backend// 
1. Будування серверної частини у папці server
1.1. ініціалізація та загрузка пакетів express, mongoose, cors, bcryptjs, dotenv, jsonwebtoken та nodemon -D. Cors - пакет для того щоб ми могли відправляти запроси з різних api-адрес і у бекенда не було проблем, dotenv - для змінних, jsonwebtoken - для регістрації та отримання токіна
1.2. створення файлу index.js та скріпту запуску dev, всановлюємо type:"module"
1.3. Підключення на index сервера через express та бази даних через mongoose
1.4. Створення файлу .gitignore та ігнорування в ньому папки  node_modules
## commit 'create server and connect db'
1.5. У файлі index.js  формуємо підключення до MongoDB  за допомогою констант-ключив пакету dotenv та його файлу .env
## commit 'config connect to MongoDB'
1.6. Налаштовуємо мінімальні налаштування нашого express, це підключення пакету cors - пакет для того щоб ми могли відправляти запроси з різних api-адрес і у бекенда не було проблем. А також app.use(express.json()); для того щоб сказати що ми бубемо постійно приймати з фронтенда запроси у форматі json.
## commit 'min config express'
1.7. перевіряємо роботу бекенда: для цього створюємо запрос (endpoint) та тестуємо на Постмене
## commit 'text work backend-frontend'
2. Регістрація та авторізація. Початок створення застосунку.
2.1. Регістрація 
2.1.1 Створюємо модель User
2.1.2 Створюємо роут та контролер для регістрації
2.1.3 Перевіряємо на Постмане пост запрос: реєструемо нового юзера test, а потім перевіряемо знову його. Повинно відповісти що юзер вже зареєстрован
## commit 'start registration'
2.2. Login. Створеня входження зареєстрованого юзера
2.2.1. Створюємо роут та контролер для логіна
2.2.2. У контролері у фунціі логін також застосовуємо токін. Він потрібен для з'ясування: ми зайшли у систему або ні (авторізувались чи ні). Може використовуватись для захисту деяких роутов для доступу. Наприклад: як до нашего застосунку то якщо ми не залогінились то не можемо додати пост можемо тільки дивитись. У файлі .env створюємо постійну JWT_SECRET=1234qwer12345asdf. У контролері { expiresIn: "30d" } це час дії токена
2.2.3 Перевіряємо на Постмані пост логін. На тому ж самому юзері test. Повинні отримати юзера і повідомлення що ми зайшли у систему
## commit 'add login of the user'
2.3.1. Get Me. Це отримання самого профілю. Тут перевіряєтся є токін чи немає. Це й роут відпрацьовує постій но якщо ви наприклад оновлюєте сторінку
2.3.2. Для цього створюємо додаткову функцію checkAuth у папці utils. В ній вшиваємо у запити нову властивість userId
2.3.3. Створюємо роут та контролер для нього.
2.3.4. тут ми вже використовуємо вшитий userId у запитах для пошуку юзера
## commit 'add Get Me of the user'
# Step 2
//FRONTEND
3. Формуємо реакт застосунок
3.1. Створюємо папку фронтенда client та грузимо реакт-застосунок \npx create-react-app .\. Прибираємо зайві файли з арр. Підключаємо шріфт попінс
3.2. Загружаємо пакет Tailwind CSS /npm install -D tailwindcss/
3.3. Ініціалізуємо \npx tailwindcss init\ і у з'явившейся папці конфіг налаштовуємо конфігурацію згідно сайту. Копіюємо з сайту налаштування у файлі index.css
4. Формуємо папки pages та components з компонентами сторінок формату .jsx
5. Встановлюємо пакети \npm i react-router-dom\. Перевіряємо відображення у браузері
## commit 'create react app & congif it'
6. Створюємо роутінг та формуємо сторінки.
6.1. У файлі index.js огортаємо App у роутінг всього зостосунку - BrowserRouter
6.2. Формуємо роути(Route) у App.js
6.3. Формуємо компонент Layout
6.4. Формуємо компонент Navbar
6.5. Потрітно перегрузити застосунок щоб налаштування Tailwind CSS почали діяти
6.6. Реалізація форми(сторінки) login. 
6.6.1 Для цього тимчасово у Navbar потрібно \const isAuth = true\ встановити false, що відповідає положенюю при логінізації
6.6.2 Формуємо сторінку-компонент LoginPage
6.6.3. Перевіряємо відображення у браузері
6.7. Реалізація форми(сторінки) регісткація RegisterPage.
6.7.1. Так як форми сторінок обнакові то копіюємо логін сторінку і вносимо деякі зміни
6.7.2. Перевіряємо відображення у браузері
## commit 'add pages & component. Routing. Login&Registation'
7. Застосовуємо REDUX
7.1. Грузимо пакети \@reduxjs/toolkit\ та \react-redux\
7.2. Створюємо папку redux і там папку features та файл store.js. Заповнюемо файл
7.3. У файлі index.js огортаємо у Provider застосунок App  і додаємо проп store до Provider
7.4. Створюємо у папці  features папку auth з файлом authSlice.js
7.5. Загружаємо пакети axios
7.6. Створююмо папку units з файлом axios. Доповнюємо вньому axios
7.7. Заповнюємо файл authSlice.js початково з фунцією authSlice 
7.8. Там же створюємо асінхроний запрос registerUse.
7.9. Внесли забутий токен у регістрації на бекенді в контролерс  auth
7.10. вмикаємо кнопку "підтвердити" у RegisterPage. Перевіряємо у роботу на браузері при створені адміна отримуємо його у бд
## commit 'Registration user is working'
8. Застосовуемо Toastify для визуалізації вспливаючих повідомлень про події та помилки
8.1. \npm i react-toastify\
8.2. імпортуємо його у App.js, а потім в RegisterPage і там його використовуєм
8.3. Перевіряємо в браузері Спочатку зареєструвати тогож самого адміна а потім нового
## commit 'add react-toastify'
9. Авторизація
9.1. Починаємо у authSlice створюємо loginUser асінх.запрос
9.2. Далі ідемо в LoginPage і робимо як у RegisterPage
9.3. Перевіряємо в браузері на Авторизації адміна. Дивимось що в нетворк є запит а у локалсторідж є токен
## commit 'autorisation login'









